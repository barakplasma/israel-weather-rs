{{/* Define target widths */}}
{{- $timeWidth := 7 -}}
{{- $iconWidth := 3 -}}
{{- $descWidth := 40 -}}
{{- $tempWidth := 8 -}}

{{/* Header Row */}}
{{ printf "|%-*s|%-*s|%-*s|%-*s|" $timeWidth "Time" $iconWidth " " $descWidth "Description" $tempWidth "Temp" }}
{{ print "\n" }}
{{ printf "|%-*s|%-*s|%-*s|%-*s|" $timeWidth "-------" $iconWidth "---" $descWidth "----------------------------------------" $tempWidth "--------" }}
{{ print "\n" }}

{{/* Data Rows */}}
{{ range . -}}
  {{- /* Prepare data for the row */ -}}
  {{- $time := slice .ForecastTime 11 16 -}}
  {{- $icon := "üåû" }}{{ if gt .Rain 0.0 }}{{ $icon = "üåßÔ∏è" }}{{ end -}}
  {{- $desc := .WeatherCodeEnglish }}{{ if gt .Rain 0.0 }}{{ $desc = printf "%.1f cm rain. %s" .Rain .WeatherCodeEnglish }}{{ end -}}
  {{- /* Format temperature: use %.0f to print floats like integers */ -}}
  {{- $tempStr := printf "%.0fc-%.0fc" .MinTemp .MaxTemp -}}

  {{- /* Print the entire row in one go */ -}}
  {{ printf "|%-*s|%-*s|%-*.*s|%-*s|" $timeWidth $time $iconWidth $icon $descWidth $descWidth $desc $tempWidth $tempStr }}
  {{- print "\n" -}} {{/* Ensure only one newline per row */}}
{{- end }}
{{/* https://repeatit.io/#/share/eyJ0ZW1wbGF0ZSI6Int7LyogRGVmaW5lIHRhcmdldCB3aWR0aHMgKi99fVxue3stICR0aW1lV2lkdGggOj0gNyAtfX1cbnt7LSAkaWNvbldpZHRoIDo9IDMgLX19XG57ey0gJGRlc2NXaWR0aCA6PSA0MCAtfX1cbnt7LSAkdGVtcFdpZHRoIDo9IDggLX19XG5cbnt7LyogSGVhZGVyIFJvdyAqL319XG57eyBwcmludGYgXCJ8JS0qc3wlLSpzfCUtKnN8JS0qc3xcIiAkdGltZVdpZHRoIFwiVGltZVwiICRpY29uV2lkdGggXCIgXCIgJGRlc2NXaWR0aCBcIkRlc2NyaXB0aW9uXCIgJHRlbXBXaWR0aCBcIlRlbXBcIiB9fVxue3sgcHJpbnQgXCJcXG5cIiB9fVxue3sgcHJpbnRmIFwifCUtKnN8JS0qc3wlLSpzfCUtKnN8XCIgJHRpbWVXaWR0aCBcIi0tLS0tLS1cIiAkaWNvbldpZHRoIFwiLS0tXCIgJGRlc2NXaWR0aCBcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIiAkdGVtcFdpZHRoIFwiLS0tLS0tLS1cIiB9fVxue3sgcHJpbnQgXCJcXG5cIiB9fVxuXG57ey8qIERhdGEgUm93cyAqL319XG57eyByYW5nZSAuIC19fVxuICB7ey0gLyogUHJlcGFyZSBkYXRhIGZvciB0aGUgcm93ICovIC19fVxuICB7ey0gJHRpbWUgOj0gc2xpY2UgLkZvcmVjYXN0VGltZSAxMSAxNiAtfX1cbiAge3stICRpY29uIDo9IFwi8J+MnlwiIH19e3sgaWYgZ3QgLlJhaW4gMC4wIH19e3sgJGljb24gPSBcIvCfjKfvuI9cIiB9fXt7IGVuZCAtfX1cbiAge3stICRkZXNjIDo9IC5XZWF0aGVyQ29kZUVuZ2xpc2ggfX17eyBpZiBndCAuUmFpbiAwLjAgfX17eyAkZGVzYyA9IHByaW50ZiBcIiUuMWYgY20gcmFpbi4gJXNcIiAuUmFpbiAuV2VhdGhlckNvZGVFbmdsaXNoIH19e3sgZW5kIC19fVxuICB7ey0gLyogRm9ybWF0IHRlbXBlcmF0dXJlOiB1c2UgJS4wZiB0byBwcmludCBmbG9hdHMgbGlrZSBpbnRlZ2VycyAqLyAtfX1cbiAge3stICR0ZW1wU3RyIDo9IHByaW50ZiBcIiUuMGZjLSUuMGZjXCIgLk1pblRlbXAgLk1heFRlbXAgLX19XG5cbiAge3stIC8qIFByaW50IHRoZSBlbnRpcmUgcm93IGluIG9uZSBnbyAqLyAtfX1cbiAge3sgcHJpbnRmIFwifCUtKnN8JS0qc3wlLSouKnN8JS0qc3xcIiAkdGltZVdpZHRoICR0aW1lICRpY29uV2lkdGggJGljb24gJGRlc2NXaWR0aCAkZGVzY1dpZHRoICRkZXNjICR0ZW1wV2lkdGggJHRlbXBTdHIgfX1cbiAge3stIHByaW50IFwiXFxuXCIgLX19IHt7LyogRW5zdXJlIG9ubHkgb25lIG5ld2xpbmUgcGVyIHJvdyAqL319XG57ey0gZW5kIH19XG4iLCJpbnB1dCI6IltcblxuICB7XG5cbiAgICBcIkZvcmVjYXN0VGltZVwiOiBcIjIwMjUtMDQtMjJUMDk6MDA6MDArMDA6MDBcIixcblxuICAgIFwiVGVtcGVyYXR1cmVcIjogMjkuNixcblxuICAgIFwiUmVsYXRpdmVIdW1pZGl0eVwiOiAxNy4wLFxuXG4gICAgXCJXaW5kU3BlZWRcIjogNi4wLFxuXG4gICAgXCJSYWluXCI6IDAuMCxcblxuICAgIFwiV2luZERpcmVjdGlvblwiOiAxMzUuMCxcblxuICAgIFwiRGV3UG9pbnRUZW1wXCI6IDIuMCxcblxuICAgIFwiSGVhdFN0cmVzc1wiOiAyMi4yLFxuXG4gICAgXCJIZWF0U3RyZXNzTGV2ZWxcIjogMC4wLFxuXG4gICAgXCJGZWVsc0xpa2VcIjogMjguMCxcblxuICAgIFwiV2luZENoaWxsXCI6IDMwLjAsXG5cbiAgICBcIldlYXRoZXJDb2RlXCI6IDEyMjAsXG5cbiAgICBcIldlYXRoZXJDb2RlRW5nbGlzaFwiOiBcIlBhcnRseSBjbG91ZHlcIixcblxuICAgIFwiTWluVGVtcFwiOiAxNy4wLFxuXG4gICAgXCJNYXhUZW1wXCI6IDMwLjAsXG5cbiAgICBcIlV2SW5kZXhcIjogbnVsbCxcblxuICAgIFwiVXZJbmRleE1heFwiOiBudWxsXG5cbiAgfSxcblxuICB7XG5cbiAgICBcIkZvcmVjYXN0VGltZVwiOiBcIjIwMjUtMDQtMjJUMTU6MDA6MDArMDA6MDBcIixcblxuICAgIFwiVGVtcGVyYXR1cmVcIjogMjkuNixcblxuICAgIFwiUmVsYXRpdmVIdW1pZGl0eVwiOiAyNS4wLFxuXG4gICAgXCJXaW5kU3BlZWRcIjogMTYuMCxcblxuICAgIFwiUmFpblwiOiAwLjAsXG5cbiAgICBcIldpbmREaXJlY3Rpb25cIjogMjQ4LjAsXG5cbiAgICBcIkRld1BvaW50VGVtcFwiOiA3LjAsXG5cbiAgICBcIkhlYXRTdHJlc3NcIjogMjMuMCxcblxuICAgIFwiSGVhdFN0cmVzc0xldmVsXCI6IDEuMCxcblxuICAgIFwiRmVlbHNMaWtlXCI6IDI4LjAsXG5cbiAgICBcIldpbmRDaGlsbFwiOiAzMC4wLFxuXG4gICAgXCJXZWF0aGVyQ29kZVwiOiAxNTgwLFxuXG4gICAgXCJXZWF0aGVyQ29kZUVuZ2xpc2hcIjogXCJFeHRyZW1lbHkgaG90XCIsXG5cbiAgICBcIk1pblRlbXBcIjogMzAuMCxcblxuICAgIFwiTWF4VGVtcFwiOiAzNS4wLFxuXG4gICAgXCJVdkluZGV4XCI6IG51bGwsXG5cbiAgICBcIlV2SW5kZXhNYXhcIjogbnVsbFxuXG4gIH0sXG5cbiAge1xuXG4gICAgXCJGb3JlY2FzdFRpbWVcIjogXCIyMDI1LTA0LTIyVDIxOjAwOjAwKzAwOjAwXCIsXG5cbiAgICBcIlRlbXBlcmF0dXJlXCI6IDIyLjgsXG5cbiAgICBcIlJlbGF0aXZlSHVtaWRpdHlcIjogNTMuMCxcblxuICAgIFwiV2luZFNwZWVkXCI6IDQuMCxcblxuICAgIFwiUmFpblwiOiAwLjAsXG5cbiAgICBcIldpbmREaXJlY3Rpb25cIjogMjMuMCxcblxuICAgIFwiRGV3UG9pbnRUZW1wXCI6IDEzLjAsXG5cbiAgICBcIkhlYXRTdHJlc3NcIjogMTkuNixcblxuICAgIFwiSGVhdFN0cmVzc0xldmVsXCI6IDAuMCxcblxuICAgIFwiRmVlbHNMaWtlXCI6IDIyLjgsXG5cbiAgICBcIldpbmRDaGlsbFwiOiAyMy4wLFxuXG4gICAgXCJXZWF0aGVyQ29kZVwiOiAxMjIwLFxuXG4gICAgXCJXZWF0aGVyQ29kZUVuZ2xpc2hcIjogXCJQYXJ0bHkgY2xvdWR5XCIsXG5cbiAgICBcIk1pblRlbXBcIjogMjMuMCxcblxuICAgIFwiTWF4VGVtcFwiOiAyOC4wLFxuXG4gICAgXCJVdkluZGV4XCI6IG51bGwsXG5cbiAgICBcIlV2SW5kZXhNYXhcIjogbnVsbFxuXG4gIH0sXG5cbiAge1xuXG4gICAgXCJGb3JlY2FzdFRpbWVcIjogXCIyMDI1LTA0LTIzVDAzOjAwOjAwKzAwOjAwXCIsXG5cbiAgICBcIlRlbXBlcmF0dXJlXCI6IDIyLjEsXG5cbiAgICBcIlJlbGF0aXZlSHVtaWRpdHlcIjogMjQuMCxcblxuICAgIFwiV2luZFNwZWVkXCI6IDUuMCxcblxuICAgIFwiUmFpblwiOiAwLjAsXG5cbiAgICBcIldpbmREaXJlY3Rpb25cIjogMTEzLjAsXG5cbiAgICBcIkRld1BvaW50VGVtcFwiOiAwLjAsXG5cbiAgICBcIkhlYXRTdHJlc3NcIjogMTYuNyxcblxuICAgIFwiSGVhdFN0cmVzc0xldmVsXCI6IDAuMCxcblxuICAgIFwiRmVlbHNMaWtlXCI6IDIyLjEsXG5cbiAgICBcIldpbmRDaGlsbFwiOiAyMi4wLFxuXG4gICAgXCJXZWF0aGVyQ29kZVwiOiAxMjIwLFxuXG4gICAgXCJXZWF0aGVyQ29kZUVuZ2xpc2hcIjogXCJQYXJ0bHkgY2xvdWR5XCIsXG5cbiAgICBcIk1pblRlbXBcIjogMjIuMCxcblxuICAgIFwiTWF4VGVtcFwiOiAyNC4wLFxuXG4gICAgXCJVdkluZGV4XCI6IG51bGwsXG5cbiAgICBcIlV2SW5kZXhNYXhcIjogbnVsbFxuXG4gIH1cblxuXSIsImNvbmZpZyI6eyJ0ZW1wbGF0ZSI6InRleHQiLCJmdW5jdGlvbnMiOiIiLCJvcHRpb25zIjpbImxpdmUiXSwiaW5wdXRUeXBlIjoieWFtbCJ9fQ== */}}
