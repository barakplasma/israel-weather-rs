{{/* Define target widths */}}
{{- $timeWidth := 7 -}}
{{- $iconWidth := 3 -}}
{{- $descWidth := 40 -}}
{{- $tempWidth := 8 -}}

{{/* Header Row (Optional, using same widths) */}}
{{ printf "|%-*s|%-*s|%-*s|%-*s|" $timeWidth "Time" $iconWidth " " $descWidth "Description" $tempWidth "Temp" }}
{{ print "\n" }}
{{ printf "|%-*s|%-*s|%-*s|%-*s|" $timeWidth "-------" $iconWidth "---" $descWidth "----------------------------------------" $tempWidth "--------" }}
{{ print "\n" }}

{{/* Data Rows */}}
{{range. -}}
{{/* Column 1: Time */}}
|{{- printf "%-*s" $timeWidth (slice.ForecastTime 11 16) -}}

{{/* Column 2: Icon */}}
|{{- $icon := "" }}{{ if gt.Rain 0.0 }}{{ $icon = "üåßÔ∏è" }}{{ else }}{{ $icon = "üåû" }}{{ end -}}
{{- printf "%-*s" $iconWidth $icon -}}

{{/* Column 3: Description (with truncation) */}}
|{{- $desc := "" }}{{ if gt.Rain 0.0 }}{{ $desc = printf "%.1f cm rain. %s".Rain.WeatherCodeEnglish }}{{ else }}{{ $desc =.WeatherCodeEnglish }}{{ end -}}
{{- printf "%-*.*s" $descWidth $descWidth $desc -}} {{/* Width and Precision are the same for truncation */}}

{{/* Column 4: Temperature */}}
|{{- $tempStr := printf "%dc-%dc".MinTemp.MaxTemp -}}
{{- printf "%-*s" $tempWidth $tempStr -}}
|
{{ print "\n" }}
{{- end }}

{{/* https://repeatit.io/#/share/eyJ0ZW1wbGF0ZSI6Int7LyogRGVmaW5lIHRhcmdldCB3aWR0aHMgKi99fVxuXG57ey0gJHRpbWVXaWR0aCA6PSA3IC19fVxuXG57ey0gJGljb25XaWR0aCA6PSAzIC19fVxuXG57ey0gJGRlc2NXaWR0aCA6PSA0MCAtfX1cblxue3stICR0ZW1wV2lkdGggOj0gOCAtfX1cblxue3svKiBIZWFkZXIgUm93IChPcHRpb25hbCwgdXNpbmcgc2FtZSB3aWR0aHMpICovfX1cblxue3sgcHJpbnRmIFwifCUtKnN8JS0qc3wlLSpzfCUtKnN8XCIgJHRpbWVXaWR0aCBcIlRpbWVcIiAkaWNvbldpZHRoIFwiIFwiICRkZXNjV2lkdGggXCJEZXNjcmlwdGlvblwiICR0ZW1wV2lkdGggXCJUZW1wXCIgfX1cblxue3sgcHJpbnQgXCJcXG5cIiB9fVxuXG57eyBwcmludGYgXCJ8JS0qc3wlLSpzfCUtKnN8JS0qc3xcIiAkdGltZVdpZHRoIFwiLS0tLS0tLVwiICRpY29uV2lkdGggXCItLS1cIiAkZGVzY1dpZHRoIFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiICR0ZW1wV2lkdGggXCItLS0tLS0tLVwiIH19XG5cbnt7IHByaW50IFwiXFxuXCIgfX1cblxue3svKiBEYXRhIFJvd3MgKi99fVxuXG57e3JhbmdlLiAtfX1cblxue3svKiBDb2x1bW4gMTogVGltZSAqL319XG5cbnx7ey0gcHJpbnRmIFwiJS0qc1wiICR0aW1lV2lkdGggKHNsaWNlLkZvcmVjYXN0VGltZSAxMSAxNikgLX19XG5cbnt7LyogQ29sdW1uIDI6IEljb24gKi99fVxuXG58e3stICRpY29uIDo9IFwiXCIgfX17eyBpZiBndC5SYWluIDAuMCB9fXt7ICRpY29uID0gXCLwn4yn77iPXCIgfX17eyBlbHNlIH19e3sgJGljb24gPSBcIvCfjJ5cIiB9fXt7IGVuZCAtfX1cblxue3stIHByaW50ZiBcIiUtKnNcIiAkaWNvbldpZHRoICRpY29uIC19fVxuXG57ey8qIENvbHVtbiAzOiBEZXNjcmlwdGlvbiAod2l0aCB0cnVuY2F0aW9uKSAqL319XG5cbnx7ey0gJGRlc2MgOj0gXCJcIiB9fXt7IGlmIGd0LlJhaW4gMC4wIH19e3sgJGRlc2MgPSBwcmludGYgXCIlLjFmIGNtIHJhaW4uICVzXCIuUmFpbi5XZWF0aGVyQ29kZUVuZ2xpc2ggfX17eyBlbHNlIH19e3sgJGRlc2MgPS5XZWF0aGVyQ29kZUVuZ2xpc2ggfX17eyBlbmQgLX19XG5cbnt7LSBwcmludGYgXCIlLSouKnNcIiAkZGVzY1dpZHRoICRkZXNjV2lkdGggJGRlc2MgLX19IHt7LyogV2lkdGggYW5kIFByZWNpc2lvbiBhcmUgdGhlIHNhbWUgZm9yIHRydW5jYXRpb24gKi99fVxuXG57ey8qIENvbHVtbiA0OiBUZW1wZXJhdHVyZSAqL319XG5cbnx7ey0gJHRlbXBTdHIgOj0gcHJpbnRmIFwiJWRjLSVkY1wiLk1pblRlbXAuTWF4VGVtcCAtfX1cblxue3stIHByaW50ZiBcIiUtKnNcIiAkdGVtcFdpZHRoICR0ZW1wU3RyIC19fVxuXG58XG5cbnt7IHByaW50IFwiXFxuXCIgfX1cblxue3stIGVuZCB9fVxuIiwiaW5wdXQiOiJbXG5cbiAge1xuXG4gICAgXCJGb3JlY2FzdFRpbWVcIjogXCIyMDI1LTA0LTIyVDA5OjAwOjAwKzAwOjAwXCIsXG5cbiAgICBcIlRlbXBlcmF0dXJlXCI6IDI5LjYsXG5cbiAgICBcIlJlbGF0aXZlSHVtaWRpdHlcIjogMTcuMCxcblxuICAgIFwiV2luZFNwZWVkXCI6IDYuMCxcblxuICAgIFwiUmFpblwiOiAwLjAsXG5cbiAgICBcIldpbmREaXJlY3Rpb25cIjogMTM1LjAsXG5cbiAgICBcIkRld1BvaW50VGVtcFwiOiAyLjAsXG5cbiAgICBcIkhlYXRTdHJlc3NcIjogMjIuMixcblxuICAgIFwiSGVhdFN0cmVzc0xldmVsXCI6IDAuMCxcblxuICAgIFwiRmVlbHNMaWtlXCI6IDI4LjAsXG5cbiAgICBcIldpbmRDaGlsbFwiOiAzMC4wLFxuXG4gICAgXCJXZWF0aGVyQ29kZVwiOiAxMjIwLFxuXG4gICAgXCJXZWF0aGVyQ29kZUVuZ2xpc2hcIjogXCJQYXJ0bHkgY2xvdWR5XCIsXG5cbiAgICBcIk1pblRlbXBcIjogMTcuMCxcblxuICAgIFwiTWF4VGVtcFwiOiAzMC4wLFxuXG4gICAgXCJVdkluZGV4XCI6IG51bGwsXG5cbiAgICBcIlV2SW5kZXhNYXhcIjogbnVsbFxuXG4gIH0sXG5cbiAge1xuXG4gICAgXCJGb3JlY2FzdFRpbWVcIjogXCIyMDI1LTA0LTIyVDE1OjAwOjAwKzAwOjAwXCIsXG5cbiAgICBcIlRlbXBlcmF0dXJlXCI6IDI5LjYsXG5cbiAgICBcIlJlbGF0aXZlSHVtaWRpdHlcIjogMjUuMCxcblxuICAgIFwiV2luZFNwZWVkXCI6IDE2LjAsXG5cbiAgICBcIlJhaW5cIjogMC4wLFxuXG4gICAgXCJXaW5kRGlyZWN0aW9uXCI6IDI0OC4wLFxuXG4gICAgXCJEZXdQb2ludFRlbXBcIjogNy4wLFxuXG4gICAgXCJIZWF0U3RyZXNzXCI6IDIzLjAsXG5cbiAgICBcIkhlYXRTdHJlc3NMZXZlbFwiOiAxLjAsXG5cbiAgICBcIkZlZWxzTGlrZVwiOiAyOC4wLFxuXG4gICAgXCJXaW5kQ2hpbGxcIjogMzAuMCxcblxuICAgIFwiV2VhdGhlckNvZGVcIjogMTU4MCxcblxuICAgIFwiV2VhdGhlckNvZGVFbmdsaXNoXCI6IFwiRXh0cmVtZWx5IGhvdFwiLFxuXG4gICAgXCJNaW5UZW1wXCI6IDMwLjAsXG5cbiAgICBcIk1heFRlbXBcIjogMzUuMCxcblxuICAgIFwiVXZJbmRleFwiOiBudWxsLFxuXG4gICAgXCJVdkluZGV4TWF4XCI6IG51bGxcblxuICB9LFxuXG4gIHtcblxuICAgIFwiRm9yZWNhc3RUaW1lXCI6IFwiMjAyNS0wNC0yMlQyMTowMDowMCswMDowMFwiLFxuXG4gICAgXCJUZW1wZXJhdHVyZVwiOiAyMi44LFxuXG4gICAgXCJSZWxhdGl2ZUh1bWlkaXR5XCI6IDUzLjAsXG5cbiAgICBcIldpbmRTcGVlZFwiOiA0LjAsXG5cbiAgICBcIlJhaW5cIjogMC4wLFxuXG4gICAgXCJXaW5kRGlyZWN0aW9uXCI6IDIzLjAsXG5cbiAgICBcIkRld1BvaW50VGVtcFwiOiAxMy4wLFxuXG4gICAgXCJIZWF0U3RyZXNzXCI6IDE5LjYsXG5cbiAgICBcIkhlYXRTdHJlc3NMZXZlbFwiOiAwLjAsXG5cbiAgICBcIkZlZWxzTGlrZVwiOiAyMi44LFxuXG4gICAgXCJXaW5kQ2hpbGxcIjogMjMuMCxcblxuICAgIFwiV2VhdGhlckNvZGVcIjogMTIyMCxcblxuICAgIFwiV2VhdGhlckNvZGVFbmdsaXNoXCI6IFwiUGFydGx5IGNsb3VkeVwiLFxuXG4gICAgXCJNaW5UZW1wXCI6IDIzLjAsXG5cbiAgICBcIk1heFRlbXBcIjogMjguMCxcblxuICAgIFwiVXZJbmRleFwiOiBudWxsLFxuXG4gICAgXCJVdkluZGV4TWF4XCI6IG51bGxcblxuICB9LFxuXG4gIHtcblxuICAgIFwiRm9yZWNhc3RUaW1lXCI6IFwiMjAyNS0wNC0yM1QwMzowMDowMCswMDowMFwiLFxuXG4gICAgXCJUZW1wZXJhdHVyZVwiOiAyMi4xLFxuXG4gICAgXCJSZWxhdGl2ZUh1bWlkaXR5XCI6IDI0LjAsXG5cbiAgICBcIldpbmRTcGVlZFwiOiA1LjAsXG5cbiAgICBcIlJhaW5cIjogMC4wLFxuXG4gICAgXCJXaW5kRGlyZWN0aW9uXCI6IDExMy4wLFxuXG4gICAgXCJEZXdQb2ludFRlbXBcIjogMC4wLFxuXG4gICAgXCJIZWF0U3RyZXNzXCI6IDE2LjcsXG5cbiAgICBcIkhlYXRTdHJlc3NMZXZlbFwiOiAwLjAsXG5cbiAgICBcIkZlZWxzTGlrZVwiOiAyMi4xLFxuXG4gICAgXCJXaW5kQ2hpbGxcIjogMjIuMCxcblxuICAgIFwiV2VhdGhlckNvZGVcIjogMTIyMCxcblxuICAgIFwiV2VhdGhlckNvZGVFbmdsaXNoXCI6IFwiUGFydGx5IGNsb3VkeVwiLFxuXG4gICAgXCJNaW5UZW1wXCI6IDIyLjAsXG5cbiAgICBcIk1heFRlbXBcIjogMjQuMCxcblxuICAgIFwiVXZJbmRleFwiOiBudWxsLFxuXG4gICAgXCJVdkluZGV4TWF4XCI6IG51bGxcblxuICB9XG5cbl0iLCJjb25maWciOnsidGVtcGxhdGUiOiJ0ZXh0IiwiZnVuY3Rpb25zIjoiaGVsbSIsIm9wdGlvbnMiOlsibGl2ZSJdLCJpbnB1dFR5cGUiOiJ5YW1sIn19 */}}
