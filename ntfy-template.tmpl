{{/* Define target widths */}}
{{- $timeWidth := 7 -}}
{{- $iconWidth := 3 -}}
{{- $descWidth := 40 -}}
{{- $tempWidth := 8 -}}

{{/* Header Row (Optional, using same widths) */}}
{{ printf "|%-*s|%-*s|%-*s|%-*s|" $timeWidth "Time" $iconWidth " " $descWidth "Description" $tempWidth "Temp" }}
{{ print "\n" }}
{{ printf "|%-*s|%-*s|%-*s|%-*s|" $timeWidth "-------" $iconWidth "---" $descWidth "----------------------------------------" $tempWidth "--------" }}
{{ print "\n" }}

{{/* Data Rows */}}
{{range. -}}
{{/* Column 1: Time */}}
|{{- printf "%-*s" $timeWidth (slice.ForecastTime 11 16) -}}

{{/* Column 2: Icon */}}
|{{- $icon := "" }}{{ if gt.Rain 0.0 }}{{ $icon = "üåßÔ∏è" }}{{ else }}{{ $icon = "üåû" }}{{ end -}}
{{- printf "%-*s" $iconWidth $icon -}}

{{/* Column 3: Description (with truncation) */}}
|{{- $desc := "" }}{{ if gt.Rain 0.0 }}{{ $desc = printf "%.1f cm rain. %s".Rain.WeatherCodeEnglish }}{{ else }}{{ $desc =.WeatherCodeEnglish }}{{ end -}}
{{- printf "%-*.*s" $descWidth $descWidth $desc -}} {{/* Width and Precision are the same for truncation */}}

{{/* Column 4: Temperature */}}
|{{- $tempStr := printf "%dc-%dc".MinTemp.MaxTemp -}}
{{- printf "%-*s" $tempWidth $tempStr -}}
|
{{ print "\n" }}
{{- end }}

{{/* for playground click https://repeatit.io/#/share/eyJ0ZW1wbGF0ZSI6Inx0aW1lfHJhaW4/fGRlc2N8dGVtcHxcbnwtLS18LS0tfC0tLXwtLS18XG57e3JhbmdlIC59fXx7e3NsaWNlIC5Gb3JlY2FzdFRpbWUgMTEgMTZ9fXx7e2lmIGd0IC5SYWluIDAuMH198J+Mp++4j3t7ZWxzZX198J+Mnnt7ZW5kfX18e3tpZiBndCAuUmFpbiAwLjB9fXt7LlJhaW59fSBjbSBvZiByYWluIGV4cGVjdGVkLiB7e2VuZH19e3suV2VhdGhlckNvZGVFbmdsaXNofX18e3suTWluVGVtcH19Yy17ey5NYXhUZW1wfX1jfFxue3tlbmR9fSIsImlucHV0IjoiW1xuICB7XG4gICAgXCJGb3JlY2FzdFRpbWVcIjogXCIyMDI1LTAzLTIyVDAyOjAwOjAwKzAwOjAwXCIsXG4gICAgXCJUZW1wZXJhdHVyZVwiOiAxMS4wLFxuICAgIFwiUmVsYXRpdmVIdW1pZGl0eVwiOiA3NS4wLFxuICAgIFwiV2luZFNwZWVkXCI6IDcuMCxcbiAgICBcIlJhaW5cIjogMC40OSxcbiAgICBcIldpbmREaXJlY3Rpb25cIjogMTM1LjAsXG4gICAgXCJEZXdQb2ludFRlbXBcIjogNy4wLFxuICAgIFwiSGVhdFN0cmVzc1wiOiA5LjksXG4gICAgXCJIZWF0U3RyZXNzTGV2ZWxcIjogMC4wLFxuICAgIFwiRmVlbHNMaWtlXCI6IDExLjAsXG4gICAgXCJXaW5kQ2hpbGxcIjogMTEuMCxcbiAgICBcIldlYXRoZXJDb2RlXCI6IDE1NDAsXG4gICAgXCJXZWF0aGVyQ29kZUVuZ2xpc2hcIjogXCJDbG91ZHksIHBvc3NpYmxlIHJhaW5cIixcbiAgICBcIk1pblRlbXBcIjogMTEuMCxcbiAgICBcIk1heFRlbXBcIjogMTMuMCxcbiAgICBcIlV2SW5kZXhcIjogbnVsbCxcbiAgICBcIlV2SW5kZXhNYXhcIjogbnVsbFxuICB9LFxuICB7XG4gICAgXCJGb3JlY2FzdFRpbWVcIjogXCIyMDI1LTAzLTIyVDA4OjAwOjAwKzAwOjAwXCIsXG4gICAgXCJUZW1wZXJhdHVyZVwiOiAxMi42LFxuICAgIFwiUmVsYXRpdmVIdW1pZGl0eVwiOiA3MC4wLFxuICAgIFwiV2luZFNwZWVkXCI6IDEwLjAsXG4gICAgXCJSYWluXCI6IDAuMDEsXG4gICAgXCJXaW5kRGlyZWN0aW9uXCI6IDEzNS4wLFxuICAgIFwiRGV3UG9pbnRUZW1wXCI6IDcuMCxcbiAgICBcIkhlYXRTdHJlc3NcIjogMTEuMixcbiAgICBcIkhlYXRTdHJlc3NMZXZlbFwiOiAwLjAsXG4gICAgXCJGZWVsc0xpa2VcIjogMTMuMCxcbiAgICBcIldpbmRDaGlsbFwiOiAxMy4wLFxuICAgIFwiV2VhdGhlckNvZGVcIjogMTUzMCxcbiAgICBcIldlYXRoZXJDb2RlRW5nbGlzaFwiOiBcIlBhcnRseSBjbG91ZHkgcG9zc2libGUgcmFpblwiLFxuICAgIFwiTWluVGVtcFwiOiAxMS4wLFxuICAgIFwiTWF4VGVtcFwiOiAxMy4wLFxuICAgIFwiVXZJbmRleFwiOiBudWxsLFxuICAgIFwiVXZJbmRleE1heFwiOiBudWxsXG4gIH0sXG4gIHtcbiAgICBcIkZvcmVjYXN0VGltZVwiOiBcIjIwMjUtMDMtMjJUMTQ6MDA6MDArMDA6MDBcIixcbiAgICBcIlRlbXBlcmF0dXJlXCI6IDE3LjQsXG4gICAgXCJSZWxhdGl2ZUh1bWlkaXR5XCI6IDUxLjAsXG4gICAgXCJXaW5kU3BlZWRcIjogMTEuMCxcbiAgICBcIlJhaW5cIjogMC4wLFxuICAgIFwiV2luZERpcmVjdGlvblwiOiAzMTUuMCxcbiAgICBcIkRld1BvaW50VGVtcFwiOiA3LjAsXG4gICAgXCJIZWF0U3RyZXNzXCI6IDE0LjYsXG4gICAgXCJIZWF0U3RyZXNzTGV2ZWxcIjogMC4wLFxuICAgIFwiRmVlbHNMaWtlXCI6IDE3LjQsXG4gICAgXCJXaW5kQ2hpbGxcIjogMTcuMCxcbiAgICBcIldlYXRoZXJDb2RlXCI6IDE1NDAsXG4gICAgXCJXZWF0aGVyQ29kZUVuZ2xpc2hcIjogXCJDbG91ZHksIHBvc3NpYmxlIHJhaW5cIixcbiAgICBcIk1pblRlbXBcIjogMTQuMCxcbiAgICBcIk1heFRlbXBcIjogMTguMCxcbiAgICBcIlV2SW5kZXhcIjogbnVsbCxcbiAgICBcIlV2SW5kZXhNYXhcIjogbnVsbFxuICB9LFxuICB7XG4gICAgXCJGb3JlY2FzdFRpbWVcIjogXCIyMDI1LTAzLTIyVDIwOjAwOjAwKzAwOjAwXCIsXG4gICAgXCJUZW1wZXJhdHVyZVwiOiAxMy45LFxuICAgIFwiUmVsYXRpdmVIdW1pZGl0eVwiOiA2My4wLFxuICAgIFwiV2luZFNwZWVkXCI6IDUuMCxcbiAgICBcIlJhaW5cIjogMC4wLFxuICAgIFwiV2luZERpcmVjdGlvblwiOiA0NS4wLFxuICAgIFwiRGV3UG9pbnRUZW1wXCI6IDcuMCxcbiAgICBcIkhlYXRTdHJlc3NcIjogMTIuMCxcbiAgICBcIkhlYXRTdHJlc3NMZXZlbFwiOiAwLjAsXG4gICAgXCJGZWVsc0xpa2VcIjogMTQuMCxcbiAgICBcIldpbmRDaGlsbFwiOiAxNC4wLFxuICAgIFwiV2VhdGhlckNvZGVcIjogMTIyMCxcbiAgICBcIldlYXRoZXJDb2RlRW5nbGlzaFwiOiBcIlBhcnRseSBjbG91ZHlcIixcbiAgICBcIk1pblRlbXBcIjogMTQuMCxcbiAgICBcIk1heFRlbXBcIjogMTguMCxcbiAgICBcIlV2SW5kZXhcIjogbnVsbCxcbiAgICBcIlV2SW5kZXhNYXhcIjogbnVsbFxuICB9XG5dIiwiY29uZmlnIjp7InRlbXBsYXRlIjoidGV4dCIsImZ1bGxTY3JlZW5IVE1MIjpmYWxzZSwiZnVuY3Rpb25zIjoiIiwib3B0aW9ucyI6WyJsaXZlIl0sImlucHV0VHlwZSI6InlhbWwifX0= */}}
